{"version":3,"file":"logigo.min.js","sources":["../src/overlay.js","../src/runtime.js","../src/parser.js","../src/differ.js","../src/index.js"],"sourcesContent":["/**\n * LogiGo Overlay - The Injectable Flowchart Visualizer\n * \n * This is the core UI injection layer that creates a floating toolbar\n * in any web application to visualize code execution flow.\n */\n\nclass LogiGoOverlay {\n  constructor(options = {}) {\n    this.options = {\n      speed: options.speed || 1.0,\n      debug: options.debug || false,\n      position: options.position || 'bottom-right',\n      ...options\n    };\n\n    this.isPlaying = false;\n    this.currentSpeed = this.options.speed;\n    this.overlayElement = null;\n    this.nodes = [];\n    this.activeNodeId = null;\n\n    // Initialize ExecutionController\n    this.executionController = new ExecutionController({\n      speed: this.options.speed,\n      debug: this.options.debug\n    });\n  }\n\n  /**\n   * Initialize the overlay and inject it into the page\n   */\n  init() {\n    if (this.options.debug) {\n      console.log('[LogiGo] Initializing overlay...', this.options);\n    }\n\n    this.createOverlay();\n    this.attachEventListeners();\n\n    // Expose global API\n    window.LogiGo = {\n      checkpoint: this.checkpoint.bind(this),\n      setSpeed: this.setSpeed.bind(this),\n      play: this.play.bind(this),\n      pause: this.pause.bind(this),\n      reset: this.reset.bind(this)\n    };\n\n    if (this.options.debug) {\n      console.log('[LogiGo] Overlay initialized. Use window.LogiGo to control.');\n    }\n\n    return this;\n  }\n\n  /**\n   * Create the overlay DOM structure\n   */\n  createOverlay() {\n    // Create container\n    const overlay = document.createElement('div');\n    overlay.id = 'logigo-overlay';\n    overlay.style.cssText = `\n      position: fixed;\n      ${this.getPositionStyles()}\n      z-index: 9999;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      border-radius: 12px;\n      padding: 16px;\n      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n      min-width: 280px;\n      backdrop-filter: blur(10px);\n    `;\n\n    // Create header\n    const header = document.createElement('div');\n    header.style.cssText = `\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      margin-bottom: 12px;\n    `;\n    header.innerHTML = `\n      <div style=\"display: flex; align-items: center; gap: 8px;\">\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" stroke-width=\"2\">\n          <circle cx=\"12\" cy=\"12\" r=\"10\"/>\n          <polyline points=\"12 6 12 12 16 14\"/>\n        </svg>\n        <span style=\"color: white; font-weight: 600; font-size: 14px;\">LogiGo</span>\n      </div>\n      <button id=\"logigo-close\" style=\"\n        background: rgba(255,255,255,0.2);\n        border: none;\n        color: white;\n        width: 24px;\n        height: 24px;\n        border-radius: 50%;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      \">Ã—</button>\n    `;\n\n    // Create controls\n    const controls = document.createElement('div');\n    controls.style.cssText = `\n      display: flex;\n      gap: 8px;\n      margin-bottom: 12px;\n    `;\n    controls.innerHTML = `\n      <button id=\"logigo-play\" style=\"${this.getButtonStyles()}\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"white\">\n          <polygon points=\"5 3 19 12 5 21 5 3\"/>\n        </svg>\n      </button>\n      <button id=\"logigo-pause\" style=\"${this.getButtonStyles()}\" disabled>\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"white\">\n          <rect x=\"6\" y=\"4\" width=\"4\" height=\"16\"/>\n          <rect x=\"14\" y=\"4\" width=\"4\" height=\"16\"/>\n        </svg>\n      </button>\n      <button id=\"logigo-step\" style=\"${this.getButtonStyles()}\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"white\" stroke=\"white\" stroke-width=\"2\">\n          <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"/>\n          <polyline points=\"12 5 19 12 12 19\"/>\n        </svg>\n      </button>\n      <button id=\"logigo-reset\" style=\"${this.getButtonStyles()}\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" stroke-width=\"2\">\n          <polyline points=\"1 4 1 10 7 10\"/>\n          <path d=\"M3.51 15a9 9 0 1 0 2.13-9.36L1 10\"/>\n        </svg>\n      </button>\n    `;\n\n    // Create speed slider\n    const speedControl = document.createElement('div');\n    speedControl.style.cssText = `\n      margin-top: 12px;\n    `;\n    speedControl.innerHTML = `\n      <label style=\"color: white; font-size: 12px; display: block; margin-bottom: 4px;\">\n        Speed: <span id=\"logigo-speed-value\">${this.currentSpeed.toFixed(1)}x</span>\n      </label>\n      <input \n        type=\"range\" \n        id=\"logigo-speed\" \n        min=\"0.1\" \n        max=\"2.0\" \n        step=\"0.1\" \n        value=\"${this.currentSpeed}\"\n        style=\"width: 100%; cursor: pointer;\"\n      />\n    `;\n\n    // Create status display\n    const status = document.createElement('div');\n    status.id = 'logigo-status';\n    status.style.cssText = `\n      margin-top: 12px;\n      padding: 8px;\n      background: rgba(255,255,255,0.1);\n      border-radius: 6px;\n      color: white;\n      font-size: 12px;\n      text-align: center;\n    `;\n    status.textContent = 'Ready';\n\n    // Assemble overlay\n    overlay.appendChild(header);\n    overlay.appendChild(controls);\n    overlay.appendChild(speedControl);\n    overlay.appendChild(status);\n\n    document.body.appendChild(overlay);\n    this.overlayElement = overlay;\n  }\n\n  /**\n   * Get position styles based on config\n   */\n  getPositionStyles() {\n    const positions = {\n      'bottom-right': 'bottom: 20px; right: 20px;',\n      'bottom-left': 'bottom: 20px; left: 20px;',\n      'top-right': 'top: 20px; right: 20px;',\n      'top-left': 'top: 20px; left: 20px;'\n    };\n    return positions[this.options.position] || positions['bottom-right'];\n  }\n\n  /**\n   * Get button styles\n   */\n  getButtonStyles() {\n    return `\n      background: rgba(255,255,255,0.2);\n      border: none;\n      color: white;\n      padding: 8px 12px;\n      border-radius: 6px;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      transition: all 0.2s;\n      flex: 1;\n    `;\n  }\n\n  /**\n   * Attach event listeners to controls\n   */\n  attachEventListeners() {\n    // Play button\n    document.getElementById('logigo-play')?.addEventListener('click', () => {\n      this.play();\n    });\n\n    // Pause button\n    document.getElementById('logigo-pause')?.addEventListener('click', () => {\n      this.pause();\n    });\n\n    // Step button\n    document.getElementById('logigo-step')?.addEventListener('click', () => {\n      this.step();\n    });\n\n    // Reset button\n    document.getElementById('logigo-reset')?.addEventListener('click', () => {\n      this.reset();\n    });\n\n    // Speed slider\n    document.getElementById('logigo-speed')?.addEventListener('input', (e) => {\n      const speed = parseFloat(e.target.value);\n      this.setSpeed(speed);\n      document.getElementById('logigo-speed-value').textContent = `${speed.toFixed(1)}x`;\n    });\n\n    // Close button\n    document.getElementById('logigo-close')?.addEventListener('click', () => {\n      this.destroy();\n    });\n  }\n\n  /**\n   * Checkpoint - Called by user code to pause execution\n   */\n  async checkpoint(nodeId) {\n    if (this.options.debug) {\n      console.log(`[LogiGo] Checkpoint: ${nodeId}`);\n    }\n\n    this.activeNodeId = nodeId;\n    this.updateStatus(`At: ${nodeId}`);\n\n    // Highlight corresponding DOM element if it exists\n    this.highlightElement(nodeId);\n\n    // Delegate to ExecutionController for timing\n    await this.executionController.checkpoint(nodeId);\n\n    // Remove highlight\n    this.removeHighlight(nodeId);\n  }\n\n  /**\n   * Highlight a DOM element\n   */\n  highlightElement(elementId) {\n    const element = document.getElementById(elementId);\n    if (element) {\n      element.style.boxShadow = '0 0 10px 2px gold';\n      element.style.transition = 'box-shadow 0.3s';\n    }\n  }\n\n  /**\n   * Remove highlight from element\n   */\n  removeHighlight(elementId) {\n    const element = document.getElementById(elementId);\n    if (element) {\n      element.style.boxShadow = '';\n    }\n  }\n\n  /**\n   * Play execution\n   */\n  play() {\n    this.isPlaying = true;\n    this.executionController.play();\n    this.updateStatus('Playing...');\n    document.getElementById('logigo-play').disabled = true;\n    document.getElementById('logigo-pause').disabled = false;\n  }\n\n  /**\n   * Pause execution\n   */\n  pause() {\n    this.isPlaying = false;\n    this.executionController.pause();\n    this.updateStatus('Paused');\n    document.getElementById('logigo-play').disabled = false;\n    document.getElementById('logigo-pause').disabled = true;\n  }\n\n  /**\n   * Step through one checkpoint\n   */\n  step() {\n    this.executionController.step();\n    this.updateStatus('Stepped');\n  }\n\n  /**\n   * Reset execution\n   */\n  reset() {\n    this.isPlaying = false;\n    this.activeNodeId = null;\n    this.executionController.reset();\n    this.updateStatus('Reset');\n    document.getElementById('logigo-play').disabled = false;\n    document.getElementById('logigo-pause').disabled = true;\n  }\n\n  /**\n   * Set execution speed\n   */\n  setSpeed(speed) {\n    this.currentSpeed = speed;\n    this.executionController.setSpeed(speed);\n    if (this.options.debug) {\n      console.log(`[LogiGo] Speed set to ${speed}x`);\n    }\n  }\n\n  /**\n   * Update status display\n   */\n  updateStatus(message) {\n    const statusEl = document.getElementById('logigo-status');\n    if (statusEl) {\n      statusEl.textContent = message;\n    }\n  }\n\n  /**\n   * Destroy the overlay\n   */\n  destroy() {\n    if (this.overlayElement) {\n      this.overlayElement.remove();\n      this.overlayElement = null;\n    }\n    delete window.LogiGo;\n    if (this.options.debug) {\n      console.log('[LogiGo] Overlay destroyed');\n    }\n  }\n}\n\n// Auto-initialize if config is provided\nif (typeof window !== 'undefined') {\n  window.LogiGoOverlay = LogiGoOverlay;\n\n  // Check for auto-init config\n  if (window.logigoConfig) {\n    new LogiGoOverlay(window.logigoConfig).init();\n  }\n}\n\n// Export for module systems\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = LogiGoOverlay;\n}\n\n// ES Module export\nexport default LogiGoOverlay;\n","/**\n * LogiGo Runtime - Execution Controller\n * \n * Manages code execution flow with pause/step/speed control\n */\n\nclass ExecutionController {\n    constructor(options = {}) {\n        this.options = {\n            speed: options.speed || 1.0,\n            debug: options.debug || false,\n            ...options\n        };\n\n        this.isPaused = false;\n        this.isWaitingForStep = false;\n        this.currentSpeed = this.options.speed;\n        this.stepResolvers = [];\n        this.executionHistory = [];\n    }\n\n    /**\n     * Checkpoint - Pause execution at a specific point\n     * Returns a Promise that resolves based on speed/pause state\n     * \n     * @param {string} nodeId - Unique identifier for this checkpoint\n     * @returns {Promise<void>}\n     */\n    async checkpoint(nodeId) {\n        if (this.options.debug) {\n            console.log(`[ExecutionController] Checkpoint: ${nodeId}`);\n        }\n\n        // Record this checkpoint in history\n        this.executionHistory.push({\n            nodeId,\n            timestamp: Date.now(),\n            speed: this.currentSpeed\n        });\n\n        // If paused, wait for step or play\n        if (this.isPaused) {\n            if (this.options.debug) {\n                console.log(`[ExecutionController] Paused at ${nodeId}, waiting for step/play`);\n            }\n\n            await this.waitForStep();\n        }\n\n        // Calculate delay based on speed\n        // Speed 1.0 = 1000ms, Speed 2.0 = 500ms, Speed 0.5 = 2000ms\n        const baseDelay = 1000; // 1 second base\n        const delay = baseDelay / this.currentSpeed;\n\n        if (this.options.debug) {\n            console.log(`[ExecutionController] Waiting ${delay}ms at ${nodeId} (speed: ${this.currentSpeed}x)`);\n        }\n\n        // Wait for the calculated delay\n        await this.sleep(delay);\n    }\n\n    /**\n     * Wait for user to click \"Step\" or \"Play\"\n     * @returns {Promise<void>}\n     */\n    waitForStep() {\n        return new Promise((resolve) => {\n            this.stepResolvers.push(resolve);\n            this.isWaitingForStep = true;\n        });\n    }\n\n    /**\n     * Execute a single step (resolve one waiting checkpoint)\n     */\n    step() {\n        if (this.stepResolvers.length > 0) {\n            const resolve = this.stepResolvers.shift();\n            resolve();\n            this.isWaitingForStep = this.stepResolvers.length > 0;\n\n            if (this.options.debug) {\n                console.log(`[ExecutionController] Stepped (${this.stepResolvers.length} waiting)`);\n            }\n        }\n    }\n\n    /**\n     * Resume execution (resolve all waiting checkpoints)\n     */\n    play() {\n        this.isPaused = false;\n\n        // Resolve all waiting step promises\n        while (this.stepResolvers.length > 0) {\n            const resolve = this.stepResolvers.shift();\n            resolve();\n        }\n\n        this.isWaitingForStep = false;\n\n        if (this.options.debug) {\n            console.log('[ExecutionController] Playing');\n        }\n    }\n\n    /**\n     * Pause execution\n     */\n    pause() {\n        this.isPaused = true;\n\n        if (this.options.debug) {\n            console.log('[ExecutionController] Paused');\n        }\n    }\n\n    /**\n     * Reset execution state\n     */\n    reset() {\n        this.isPaused = false;\n        this.isWaitingForStep = false;\n        this.stepResolvers = [];\n        this.executionHistory = [];\n\n        if (this.options.debug) {\n            console.log('[ExecutionController] Reset');\n        }\n    }\n\n    /**\n     * Set execution speed\n     * @param {number} speed - Speed multiplier (0.1 to 2.0)\n     */\n    setSpeed(speed) {\n        this.currentSpeed = Math.max(0.1, Math.min(2.0, speed));\n\n        if (this.options.debug) {\n            console.log(`[ExecutionController] Speed set to ${this.currentSpeed}x`);\n        }\n    }\n\n    /**\n     * Get current execution state\n     * @returns {Object}\n     */\n    getState() {\n        return {\n            isPaused: this.isPaused,\n            isWaitingForStep: this.isWaitingForStep,\n            currentSpeed: this.currentSpeed,\n            historyLength: this.executionHistory.length,\n            waitingCheckpoints: this.stepResolvers.length\n        };\n    }\n\n    /**\n     * Get execution history\n     * @returns {Array}\n     */\n    getHistory() {\n        return [...this.executionHistory];\n    }\n\n    /**\n     * Sleep for a specified duration\n     * @param {number} ms - Milliseconds to sleep\n     * @returns {Promise<void>}\n     */\n    sleep(ms) {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    }\n}\n\n// Export for module systems\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = ExecutionController;\n}\n\n// Browser global\nif (typeof window !== 'undefined') {\n    window.ExecutionController = ExecutionController;\n}\n\n// ES Module export\nexport default ExecutionController;\n","/**\n * LogiGo Parser - Lightweight AST Parser\n * \n * Converts JavaScript code into a simplified flowchart structure\n */\n\nclass LogiGoParser {\n    constructor(options = {}) {\n        this.options = {\n            debug: options.debug || false,\n            ...options\n        };\n    }\n\n    /**\n     * Parse JavaScript code into flowchart nodes\n     * @param {string} code - Raw JavaScript code\n     * @returns {Array} Array of flowchart nodes\n     */\n    parse(code) {\n        if (this.options.debug) {\n            console.log('[LogiGo Parser] Parsing code...');\n        }\n\n        // This is a stub implementation\n        // In production, this would use acorn or @babel/parser\n        const nodes = [];\n\n        // Simple regex-based parsing for demo purposes\n        const lines = code.split('\\n');\n        let nodeId = 0;\n\n        lines.forEach((line, index) => {\n            const trimmed = line.trim();\n\n            if (!trimmed || trimmed.startsWith('//')) {\n                return; // Skip empty lines and comments\n            }\n\n            // Detect function declarations\n            if (trimmed.match(/^function\\s+(\\w+)/)) {\n                const match = trimmed.match(/^function\\s+(\\w+)/);\n                nodes.push({\n                    id: `node_${nodeId++}`,\n                    type: 'function',\n                    label: `Function: ${match[1]}`,\n                    code_ref: match[1],\n                    line: index + 1,\n                    code: trimmed\n                });\n            }\n            // Detect if statements\n            else if (trimmed.match(/^if\\s*\\(/)) {\n                const condition = trimmed.match(/if\\s*\\((.*?)\\)/)?.[1] || 'condition';\n                nodes.push({\n                    id: `node_${nodeId++}`,\n                    type: 'branch',\n                    label: `If: ${condition}`,\n                    code_ref: `if_${index}`,\n                    line: index + 1,\n                    code: trimmed\n                });\n            }\n            // Detect loops\n            else if (trimmed.match(/^(for|while)\\s*\\(/)) {\n                const loopType = trimmed.match(/^(for|while)/)[1];\n                nodes.push({\n                    id: `node_${nodeId++}`,\n                    type: 'loop',\n                    label: `${loopType.toUpperCase()} Loop`,\n                    code_ref: `${loopType}_${index}`,\n                    line: index + 1,\n                    code: trimmed\n                });\n            }\n            // Detect return statements\n            else if (trimmed.match(/^return\\s/)) {\n                nodes.push({\n                    id: `node_${nodeId++}`,\n                    type: 'return',\n                    label: 'Return',\n                    code_ref: `return_${index}`,\n                    line: index + 1,\n                    code: trimmed\n                });\n            }\n            // Generic statement\n            else if (trimmed.length > 0) {\n                nodes.push({\n                    id: `node_${nodeId++}`,\n                    type: 'statement',\n                    label: trimmed.substring(0, 30) + (trimmed.length > 30 ? '...' : ''),\n                    code_ref: `stmt_${index}`,\n                    line: index + 1,\n                    code: trimmed\n                });\n            }\n        });\n\n        if (this.options.debug) {\n            console.log(`[LogiGo Parser] Parsed ${nodes.length} nodes`);\n        }\n\n        return nodes;\n    }\n\n    /**\n     * Parse code and return a tree structure with edges\n     * @param {string} code - Raw JavaScript code\n     * @returns {Object} { nodes, edges }\n     */\n    parseToGraph(code) {\n        const nodes = this.parse(code);\n        const edges = [];\n\n        // Create simple sequential edges\n        for (let i = 0; i < nodes.length - 1; i++) {\n            edges.push({\n                id: `edge_${i}`,\n                source: nodes[i].id,\n                target: nodes[i + 1].id,\n                type: 'default'\n            });\n        }\n\n        return { nodes, edges };\n    }\n}\n\n// Export for module systems\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = LogiGoParser;\n}\n\n// Browser global\nif (typeof window !== 'undefined') {\n    window.LogiGoParser = LogiGoParser;\n}\n\n// ES Module export\nexport default LogiGoParser;\n","/**\n * LogiGo Differ - Ghost Diff Engine\n * \n * Compares two code trees and identifies added, removed, and modified nodes\n */\n\nclass LogiGoDiffer {\n    constructor(options = {}) {\n        this.options = {\n            debug: options.debug || false,\n            matchBy: options.matchBy || 'id', // 'id' or 'signature'\n            ...options\n        };\n    }\n\n    /**\n     * Compare two trees and return diff information\n     * @param {Array} oldTree - Previous version of the code tree\n     * @param {Array} newTree - Current version of the code tree\n     * @returns {Object} { nodes, stats }\n     */\n    diffTrees(oldTree, newTree) {\n        if (this.options.debug) {\n            console.log('[LogiGoDiffer] Comparing trees...', {\n                oldNodes: oldTree.length,\n                newNodes: newTree.length\n            });\n        }\n\n        const result = {\n            nodes: [],\n            stats: {\n                added: 0,\n                removed: 0,\n                modified: 0,\n                unchanged: 0\n            }\n        };\n\n        // Create maps for quick lookup\n        const oldMap = new Map(oldTree.map(node => [this.getNodeKey(node), node]));\n        const newMap = new Map(newTree.map(node => [this.getNodeKey(node), node]));\n\n        // Process all nodes from new tree (added or modified)\n        newTree.forEach(newNode => {\n            const key = this.getNodeKey(newNode);\n            const oldNode = oldMap.get(key);\n\n            if (!oldNode) {\n                // Node is new (added)\n                result.nodes.push({\n                    ...newNode,\n                    diffStatus: 'added',\n                    className: 'node-added'\n                });\n                result.stats.added++;\n            } else if (this.nodesAreDifferent(oldNode, newNode)) {\n                // Node exists but was modified\n                result.nodes.push({\n                    ...newNode,\n                    diffStatus: 'modified',\n                    className: 'node-modified',\n                    oldValue: oldNode\n                });\n                result.stats.modified++;\n            } else {\n                // Node is unchanged\n                result.nodes.push({\n                    ...newNode,\n                    diffStatus: 'unchanged',\n                    className: 'node-unchanged'\n                });\n                result.stats.unchanged++;\n            }\n        });\n\n        // Process nodes from old tree that are missing in new tree (deleted)\n        oldTree.forEach(oldNode => {\n            const key = this.getNodeKey(oldNode);\n            if (!newMap.has(key)) {\n                // Node was deleted (ghost)\n                result.nodes.push({\n                    ...oldNode,\n                    diffStatus: 'deleted',\n                    className: 'node-deleted'\n                });\n                result.stats.removed++;\n            }\n        });\n\n        if (this.options.debug) {\n            console.log('[LogiGoDiffer] Diff complete:', result.stats);\n        }\n\n        return result;\n    }\n\n    /**\n     * Get a unique key for a node based on match strategy\n     * @param {Object} node - The node to get a key for\n     * @returns {string}\n     */\n    getNodeKey(node) {\n        if (this.options.matchBy === 'signature') {\n            // Match by function signature or code structure\n            return this.getNodeSignature(node);\n        }\n        // Default: match by ID or code_ref\n        return node.id || node.code_ref || node.label;\n    }\n\n    /**\n     * Generate a signature for a node based on its structure\n     * @param {Object} node - The node to generate a signature for\n     * @returns {string}\n     */\n    getNodeSignature(node) {\n        // Create a signature from type + label + line (if available)\n        const parts = [\n            node.type,\n            node.label?.toLowerCase().replace(/\\s+/g, '_'),\n            node.line\n        ].filter(Boolean);\n\n        return parts.join('::');\n    }\n\n    /**\n     * Check if two nodes are different\n     * @param {Object} oldNode - Previous version of the node\n     * @param {Object} newNode - Current version of the node\n     * @returns {boolean}\n     */\n    nodesAreDifferent(oldNode, newNode) {\n        // Compare relevant fields\n        const fields = ['label', 'code', 'type', 'line'];\n\n        for (const field of fields) {\n            if (oldNode[field] !== newNode[field]) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Apply diff classes to nodes for rendering\n     * @param {Array} nodes - Nodes with diff status\n     * @returns {Array} Nodes with CSS classes applied\n     */\n    applyDiffStyles(nodes) {\n        return nodes.map(node => {\n            const styles = this.getStylesForStatus(node.diffStatus);\n            return {\n                ...node,\n                style: styles\n            };\n        });\n    }\n\n    /**\n     * Get CSS styles for a diff status\n     * @param {string} status - 'added', 'deleted', 'modified', 'unchanged'\n     * @returns {Object}\n     */\n    getStylesForStatus(status) {\n        const styleMap = {\n            added: {\n                border: '2px solid #28a745',\n                backgroundColor: '#d4edda',\n                animation: 'pulse 1s ease-in-out'\n            },\n            deleted: {\n                border: '2px solid #dc3545',\n                backgroundColor: '#f8d7da',\n                opacity: '0.5'\n            },\n            modified: {\n                border: '2px solid #ffc107',\n                backgroundColor: '#fff3cd'\n            },\n            unchanged: {\n                border: '1px solid #dee2e6',\n                backgroundColor: '#f8f9fa'\n            }\n        };\n\n        return styleMap[status] || styleMap.unchanged;\n    }\n\n    /**\n     * Generate a summary of changes\n     * @param {Object} diffResult - Result from diffTrees()\n     * @returns {string}\n     */\n    getSummary(diffResult) {\n        const { stats } = diffResult;\n        const total = stats.added + stats.removed + stats.modified + stats.unchanged;\n\n        const parts = [];\n        if (stats.added > 0) parts.push(`${stats.added} added`);\n        if (stats.removed > 0) parts.push(`${stats.removed} removed`);\n        if (stats.modified > 0) parts.push(`${stats.modified} modified`);\n        if (stats.unchanged > 0) parts.push(`${stats.unchanged} unchanged`);\n\n        return `${total} nodes: ${parts.join(', ')}`;\n    }\n\n    /**\n     * Filter nodes by diff status\n     * @param {Array} nodes - Nodes with diff status\n     * @param {string} status - Status to filter by\n     * @returns {Array}\n     */\n    filterByStatus(nodes, status) {\n        return nodes.filter(node => node.diffStatus === status);\n    }\n\n    /**\n     * Get all changes (added + modified + deleted)\n     * @param {Array} nodes - Nodes with diff status\n     * @returns {Array}\n     */\n    getChanges(nodes) {\n        return nodes.filter(node =>\n            node.diffStatus === 'added' ||\n            node.diffStatus === 'modified' ||\n            node.diffStatus === 'deleted'\n        );\n    }\n}\n\n// Export for module systems\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = LogiGoDiffer;\n}\n\n// Browser global\nif (typeof window !== 'undefined') {\n    window.LogiGoDiffer = LogiGoDiffer;\n}\n\n// ES Module export\nexport default LogiGoDiffer;\n","/**\n * LogiGo - Runtime Code Visualizer\n * Main entry point for the NPM package\n */\n\n// Import core modules\nimport LogiGoOverlay from './overlay.js';\nimport ExecutionController from './runtime.js';\nimport LogiGoParser from './parser.js';\nimport LogiGoDiffer from './differ.js';\n\n/**\n * Initialize LogiGo with options\n * @param {Object} options - Configuration options\n * @returns {Object} LogiGo API\n */\nfunction init(options = {}) {\n    const overlay = new LogiGoOverlay(options);\n    overlay.init();\n\n    return {\n        overlay,\n        checkpoint: overlay.checkpoint.bind(overlay),\n        play: overlay.play.bind(overlay),\n        pause: overlay.pause.bind(overlay),\n        step: overlay.step.bind(overlay),\n        reset: overlay.reset.bind(overlay),\n        setSpeed: overlay.setSpeed.bind(overlay),\n        destroy: overlay.destroy.bind(overlay)\n    };\n}\n\n// Export everything\nexport {\n    init,\n    LogiGoOverlay,\n    ExecutionController,\n    LogiGoParser,\n    LogiGoDiffer\n};\n\n// Default export\nexport default {\n    init,\n    LogiGoOverlay,\n    ExecutionController,\n    LogiGoParser,\n    LogiGoDiffer\n};\n"],"names":["LogiGoOverlay","constructor","options","this","speed","debug","position","isPlaying","currentSpeed","overlayElement","nodes","activeNodeId","executionController","ExecutionController","init","console","log","createOverlay","attachEventListeners","window","LogiGo","checkpoint","bind","setSpeed","play","pause","reset","overlay","document","createElement","id","style","cssText","getPositionStyles","header","innerHTML","controls","getButtonStyles","speedControl","toFixed","status","textContent","appendChild","body","positions","getElementById","addEventListener","step","e","parseFloat","target","value","destroy","nodeId","updateStatus","highlightElement","removeHighlight","elementId","element","boxShadow","transition","disabled","message","statusEl","remove","logigoConfig","module","exports","ExecutionController$1","isPaused","isWaitingForStep","stepResolvers","executionHistory","push","timestamp","Date","now","waitForStep","delay","sleep","Promise","resolve","length","shift","Math","max","min","getState","historyLength","waitingCheckpoints","getHistory","ms","setTimeout","LogiGoParser","parse","code","lines","split","forEach","line","index","trimmed","trim","startsWith","match","type","label","code_ref","condition","loopType","toUpperCase","substring","parseToGraph","edges","i","source","LogiGoDiffer","matchBy","diffTrees","oldTree","newTree","oldNodes","newNodes","result","stats","added","removed","modified","unchanged","oldMap","Map","map","node","getNodeKey","newMap","newNode","key","oldNode","get","nodesAreDifferent","diffStatus","className","oldValue","has","getNodeSignature","toLowerCase","replace","filter","Boolean","join","fields","field","applyDiffStyles","styles","getStylesForStatus","styleMap","border","backgroundColor","animation","deleted","opacity","getSummary","diffResult","total","parts","filterByStatus","getChanges"],"mappings":"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"}